(function(S,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(S=typeof globalThis<"u"?globalThis:S||self,e(S.Goodthing={},S.Vue))})(this,function(S,e){"use strict";/*! Goodthing v0.0.0 - Build 4 */const v={default:[],likert:[{text:"전혀 그렇지 않다.",value:"1"},{text:"그렇지 않다.",value:"2"},{text:"보통이다.",value:"3"},{text:"그렇다.",value:"4"},{text:"매우 그렇다.",value:"5"}]},z="데이터 식별자",M="레이블",I="플레이스홀더",J="접두사",H="접미사",L=36500,B={default:{onSetting:void 0,onDelete:void 0,draggable:!1,validators:{}},input:{type:"text",name:z,label:M,placeholder:I,required:!1,solidStyle:!1,inputSize:"default",prefix:J,suffix:H},selection:{type:"checkbox",name:z,label:M,required:!1,solidStyle:!1,inputSize:"default",horizontal:!0,switchStyle:!1,options:v.likert,min:0,max:0},select:{type:"select",name:z,label:M,placeholder:I,searchable:!1,required:!1,solidStyle:!1,options:v.likert},datetime:{type:"datetime",name:z,label:M,required:!1,solidStyle:!1,inputSize:"default",date:!0,time:!1,min:{type:"day",value:L},max:{type:"day",value:L}}};function U(r="Goodthing"){return`${r}_${q("xxyxxxxx")}`}function q(r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"){return r.replace(/[xy]/g,function(d){const u=Math.random()*16|0;return(d==="x"?u:u&3|8).toString(16)})}function P(){const r=(t,o,p)=>{t.preventDefault(),o&&o.validate().then(a=>{a==="Valid"&&p&&p()})},d=(t,o)=>{const p=typeof t=="string"?document.querySelector(t):t;p.addEventListener("submit",h=>r(h,a,o));const a=FormValidation.formValidation(p,{fields:app.getValidators(),plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}});return{reset:()=>u(p,a,o),validator:a}},u=(t,o,p)=>(t.removeEventListener("submit",r),o.destroy(),d(t,p));return{create:d,reset:u}}function O(...r){return r.reduce((d,u)=>({...d,...F(u)}),{})}function T(r){let d=F(r);return r.config&&(d={...d,...r.config}),d}function F(r){return Object.keys({...r}).filter(d=>r[d]!==void 0&&d!=="config").reduce((d,u)=>({...d,[u]:r[u]}),{})}function D(r){const d={};return r!=null&&r.required&&(d.notEmpty={message:"필수값입니다."}),(r==null?void 0:r.type)==="checkbox"&&(d.choice={min:r.min,max:r.max,message:`최소 ${r.min}, 최대 ${r.max}의 항목을 선택해주세요.`}),d}const Z={class:"d-flex flex-stack"},W=["for"],X={key:0,class:"btn btn-sm btn-icon btn-hover-light-primary draggable-handle"},K=[e.createElementVNode("i",{class:"ki-duotone ki-abstract-14 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],Q=[e.createElementVNode("i",{class:"ki-duotone ki-setting-2 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],Y=["id"],ee=["innerHTML"],te=["type","placeholder","id","name"],oe=["innerHTML"],j={__name:"Input",props:["config","value","onSetting","draggable","onDelete","name","label","placeholder","required","solidStyle","inputSize","prefix","suffix"],setup(r,{expose:d}){const u=r,t=e.computed(()=>O(B.default,B.input,T(u))),o={input:Goodthing.generateId(),group:Goodthing.generateId()},p=e.computed(()=>{switch(t.value.inputSize){case"small":return"input-group-sm";case"large":return"input-group-lg";default:return""}});e.onMounted(()=>{t.value.validators=D(t.value)});const a=e.ref(null);function h(){return t.value.name}function b(){return a.value.value}function f(y){a.value.value=y}function l(){return JSON.parse(JSON.stringify(t.value))}function N(){return t.value.validators}return d({getName:h,getValue:b,setValue:f,getConfig:l,getValidators:N}),(y,E)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["fv-row",{"card px-3 pb-3 pt-1":t.value.onSetting}])},[e.createElementVNode("div",Z,[e.createElementVNode("label",{class:e.normalizeClass(["form-label",{required:t.value.required,"mb-0":t.value.onSetting}]),for:o.input},e.toDisplayString(t.value.label),11,W),e.createElementVNode("div",null,[t.value.draggable?(e.openBlock(),e.createElementBlock("button",X,K)):e.createCommentVNode("",!0),t.value.onSetting?(e.openBlock(),e.createElementBlock("button",{key:1,class:"btn btn-sm btn-icon btn-icon-custom-color btn-active-color-primary",onClick:E[0]||(E[0]=()=>t.value.onSetting(t.value)),type:"button"},Q)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",{class:e.normalizeClass(["input-group",[{"input-group-solid":t.value.solidStyle},p.value]]),id:o.group},[t.value.prefix.length?(e.openBlock(),e.createElementBlock("span",{key:0,class:"input-group-text",innerHTML:t.value.prefix},null,8,ee)):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",{ref_key:"input",ref:a,type:t.value.type,class:"form-control",placeholder:t.value.placeholder,id:o.input,name:t.value.name,"onUpdate:modelValue":E[1]||(E[1]=_=>t.value.value=_)},null,8,te),[[e.vModelDynamic,t.value.value]]),t.value.suffix.length?(e.openBlock(),e.createElementBlock("span",{key:1,class:"input-group-text",innerHTML:t.value.suffix},null,8,oe)):e.createCommentVNode("",!0)],10,Y)],2))}},ae={class:"d-flex flex-stack"},ne=["for"],le={key:0,class:"btn btn-sm btn-icon btn-hover-light-primary draggable-handle"},se=[e.createElementVNode("i",{class:"ki-duotone ki-abstract-14 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],ie=[e.createElementVNode("i",{class:"ki-duotone ki-setting-2 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],re=["id"],ce=["type","name","value","id"],de=["for"],R={__name:"Selection",props:["config","value","onSetting","draggable","onDelete","type","name","label","required","solidStyle","inputSize","horizontal","switchStyle","options"],setup(r,{expose:d}){const u=r,t=e.computed(()=>O(B.default,B.selection,T(u))),o={input:Goodthing.generateId(),group:Goodthing.generateId()},p=e.computed(()=>{switch(t.value.inputSize){case"small":return"form-check-sm";case"large":return"form-check-lg";default:return""}}),a=e.computed(()=>{if(!t.value.switchStyle)return"";switch(t.value.inputSize){case"small":return"h-20px w-30px";case"large":return"h-40px w-60px";default:return""}}),h=e.computed(()=>t.value.horizontal?"flex-row gap-4":"flex-column gap-2");e.onMounted(()=>{t.value.validators=D(t.value)});const b=e.ref(Array.from({length:t.value.options.length},()=>null));function f(){return t.value.name}function l(){return b.value.filter(_=>_.checked).map(_=>_.value).join(",")}function N(_){const V=typeof _=="string"?_.trim().split(",").map(k=>k.trim()):[_.toString()];b.value.forEach(k=>k.checked=V.includes(k.value))}function y(){return JSON.parse(JSON.stringify(t.value))}function E(){return t.value.validators}return d({getName:f,getValue:l,setValue:N,getConfig:y,getValidators:E}),(_,V)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["fv-row",{"card px-3 pb-3 pt-1":t.value.onSetting}])},[e.createElementVNode("div",ae,[e.createElementVNode("label",{class:e.normalizeClass(["form-label",{required:t.value.required,"mb-0":t.value.onSetting}]),for:o.input+"_0"},e.toDisplayString(t.value.label),11,ne),e.createElementVNode("div",null,[t.value.draggable?(e.openBlock(),e.createElementBlock("button",le,se)):e.createCommentVNode("",!0),t.value.onSetting?(e.openBlock(),e.createElementBlock("button",{key:1,class:"btn btn-sm btn-icon btn-icon-custom-color btn-active-color-primary",onClick:V[0]||(V[0]=()=>t.value.onSetting(t.value)),type:"button"},ie)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",{class:e.normalizeClass(["input-group",[{"input-group-solid":t.value.solidStyle},h.value]]),id:o.group},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.value.options,(k,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["form-check form-check-custom",[{"form-check-solid":t.value.solidStyle,"form-switch":t.value.switchStyle},p.value]])},[e.withDirectives(e.createElementVNode("input",{type:t.value.type,class:e.normalizeClass(["form-check-input",a.value]),name:t.value.name,value:k.value,"onUpdate:modelValue":V[1]||(V[1]=x=>t.value.value=x),id:o.input+"_"+m,ref_for:!0,ref:x=>b.value[m]=x},null,10,ce),[[e.vModelDynamic,t.value.value]]),e.createElementVNode("label",{class:"form-check-label",for:o.input+"_"+m},e.toDisplayString(k.text),9,de)],2))),256))],10,re)],2))}},me={class:"d-flex flex-stack"},pe=["for"],ue={key:0,class:"btn btn-sm btn-icon btn-hover-light-primary draggable-handle"},fe=[e.createElementVNode("i",{class:"ki-duotone ki-abstract-14 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],he=[e.createElementVNode("i",{class:"ki-duotone ki-setting-2 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],_e=["name","id"],ge=e.createElementVNode("option",null,null,-1),be=["value"],G={__name:"Select",props:["config","value","onSetting","draggable","onDelete","name","label","placeholder","searchable","required","solidStyle","inputSize","options"],setup(r,{expose:d}){const u=r,t=e.computed(()=>O(B.default,B.select,T(u))),o={select:Goodthing.generateId(),menu:Goodthing.generateId()},p=e.ref(null);let a=null;function h(){const _={placeholder:t.value.placeholder,language:{noResults:()=>"검색 결과가 존재하지 않습니다."}};t.value.searchable||(_.minimumResultsForSearch=1/0),a=$(p.value).select2(_)}e.onMounted(()=>{h(),t.value.validators=D(t.value)}),e.onUpdated(()=>{h()});const b=e.computed(()=>{switch(t.value.inputSize){case"small":return"input-group-sm";case"large":return"input-group-lg";default:return""}});function f(){return t.value.name}function l(){return p.value.value}function N(_){a.val(_).trigger("change")}function y(){return JSON.parse(JSON.stringify(t.value))}function E(){return t.value.validators}return d({getName:f,getValue:l,setValue:N,getConfig:y,getValidators:E}),(_,V)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["fv-row",{"card px-3 pb-3 pt-1":t.value.onSetting}])},[e.createElementVNode("div",me,[e.createElementVNode("label",{class:e.normalizeClass(["form-label",{required:t.value.required,"mb-0":t.value.onSetting}]),for:o.select},e.toDisplayString(t.value.label),11,pe),e.createElementVNode("div",null,[t.value.draggable?(e.openBlock(),e.createElementBlock("button",ue,fe)):e.createCommentVNode("",!0),t.value.onSetting?(e.openBlock(),e.createElementBlock("button",{key:1,class:"btn btn-sm btn-icon btn-icon-custom-color btn-active-color-primary",onClick:V[0]||(V[0]=()=>t.value.onSetting(t.value)),type:"button"},he)):e.createCommentVNode("",!0)])]),e.withDirectives(e.createElementVNode("select",{class:e.normalizeClass(["form-select select2-hidden-accessible",[{"form-select-solid":t.value.solidStyle},b.value]]),ref_key:"select",ref:p,name:t.value.name,id:o.select,"onUpdate:modelValue":V[1]||(V[1]=k=>t.value.value=k)},[ge,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.value.options,k=>(e.openBlock(),e.createElementBlock("option",{value:k.value},e.toDisplayString(k.text),9,be))),256))],10,_e),[[e.vModelSelect,t.value.value]])],2))}},ke={class:"d-flex flex-stack"},ye=["for"],Ve={key:0,class:"btn btn-sm btn-icon btn-hover-light-primary draggable-handle"},xe=[e.createElementVNode("i",{class:"ki-duotone ki-abstract-14 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],Ee=[e.createElementVNode("i",{class:"ki-duotone ki-setting-2 fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],Ne=["id","name","data-td-target"],Se=["data-td-target"],we=[e.createElementVNode("i",{class:"ki-duotone ki-calendar fs-2"},[e.createElementVNode("span",{class:"path1"}),e.createElementVNode("span",{class:"path2"})],-1)],A={__name:"Datetime",props:["config","value","onSetting","draggable","onDelete","name","required","solidStyle","inputSize","date","time","min","max"],setup(r,{expose:d}){const u=r,t=e.computed(()=>O(B.default,B.datetime,T(u))),o={input:Goodthing.generateId()},p=e.ref(null),a=e.ref(null);let h=null;function b(c=!1){const g=[];return t.value.date&&g.push(c?"yyyy-MM-DD":"yyyy-MM-dd"),t.value.time&&g.push("HH:mm"),g.join(" ")}function f(){return{locale:"kr",startOfTheWeek:0,format:b()}}function l(){return{allowInputToggle:!0,localization:f(),display:{viewMode:"calendar",components:{decades:!0,year:t.value.date,month:t.value.date,date:t.value.date,hours:t.value.time,minutes:t.value.time,seconds:!1}}}}function N(c,{type:g,value:w}){const i=b(!0),n=moment(new Date,i);if(g==="year")return c?n.startOf("year"):n.endOf("year");if(g==="month")return c?n.startOf("month"):n.endOf("month");if(g==="day")return n.add((c?-1:1)*w,"day")}function y(){const c=l(),g=t.value.min!==void 0,w=t.value.max!==void 0;if(g||w){if(c.restrictions={},g){const i=N(!0,t.value.min);c.restrictions.minDate=i.set({hour:0,minute:0}).toDate()}if(w){const i=N(!1,t.value.max);c.restrictions.maxDate=i.set({hour:23,minute:59}).toDate()}}return c}e.onMounted(()=>{h=new tempusDominus.TempusDominus(p.value,y()),t.value.validators=D(t.value)}),e.onUpdated(()=>{h.updateOptions(y())});const E=e.computed(()=>{switch(t.value.inputSize){case"small":return"input-group-sm";case"large":return"input-group-lg";default:return""}});function _(){return t.value.name}function V(){return a.value.value}function k(c){const g=f(),w=new tempusDominus.DateTime(c).setLocalization(g);h.dates.setValue(w)}function m(){return JSON.parse(JSON.stringify(t.value))}function x(){return t.value.validators}return d({getName:_,getValue:V,setValue:k,getConfig:m,getValidators:x}),(c,g)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["fv-row",{"card px-3 pb-3 pt-1":t.value.onSetting}])},[e.createElementVNode("div",ke,[e.createElementVNode("label",{class:e.normalizeClass(["form-label",{required:t.value.required,"mb-0":t.value.onSetting}]),for:o.input},e.toDisplayString(t.value.label),11,ye),e.createElementVNode("div",null,[t.value.draggable?(e.openBlock(),e.createElementBlock("button",Ve,xe)):e.createCommentVNode("",!0),t.value.onSetting?(e.openBlock(),e.createElementBlock("button",{key:1,class:"btn btn-sm btn-icon btn-icon-custom-color btn-active-color-primary",onClick:g[0]||(g[0]=()=>t.value.onSetting(t.value)),type:"button"},Ee)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",{class:e.normalizeClass(["input-group",[{"input-group-solid":t.value.solidStyle},E.value]]),ref_key:"picker",ref:p,"data-td-target-input":"nearest","data-td-target-toggle":"nearest"},[e.withDirectives(e.createElementVNode("input",{id:o.input,name:t.value.name,ref_key:"input",ref:a,type:"text",readonly:"",class:e.normalizeClass(["form-control",{"form-control-solid":t.value.solidStyle}]),"data-td-target":"#"+o.input,"onUpdate:modelValue":g[1]||(g[1]=w=>t.value.value=w)},null,10,Ne),[[e.vModelText,t.value.value]]),e.createElementVNode("span",{class:"input-group-text","data-td-target":"#"+o.input,"data-td-toggle":"datetimepicker"},we,8,Se)],2)],2))}},Be={class:"modal-dialog modal-dialog-centered"},Ce={class:"modal-content"},De=e.createStaticVNode('<div class="modal-header"><h3 class="modal-title">설정</h3><div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close"><i class="ki-duotone ki-cross fs-1"><span class="path1"></span><span class="path2"></span></i></div></div>',1),$e={class:"menu-item px-10 py-5"},ze=e.createElementVNode("small",{class:"position-absolute text-info fw-bold",style:{right:"2.5rem"}},"미리보기 ",-1),Me=e.createElementVNode("div",{class:"separator opacity-75"},null,-1),Ue={class:"modal-body"},Oe={key:0,class:"menu-item px-3"},Te={class:"input-group input-group-sm"},ve=["id"],qe=["aria-describedby","disabled"],Re=[e.createStaticVNode('<i class="ki-duotone ki-arrows-circle fs-1"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></i>',1)],Ie={key:1,class:"menu-item px-3 pt-3"},Le={class:"input-group input-group-sm"},Fe=["id"],je=["aria-describedby"],Ge={key:2,class:"menu-item px-3 pt-3"},Ae={class:"input-group input-group-sm"},Je=["id"],He=["aria-describedby"],Pe={key:3,class:"menu-item px-3 pt-3"},Ze={class:"input-group input-group-sm"},We=["id"],Xe=["aria-describedby"],Ke={key:4,class:"menu-item p-3 pt-3"},Qe={class:"input-group input-group-sm"},Ye=["id"],et=["aria-describedby"],tt=e.createElementVNode("div",{class:"separator opacity-75"},null,-1),ot={class:"modal-body"},at={class:"menu-item px-3 d-flex row gap-2"},nt={class:"form-check form-switch col-5"},lt=["id"],st=["for"],it={key:0,class:"form-check form-switch col-5"},rt=["id"],ct=["for"],dt={key:1,class:"form-check form-switch col-5"},mt=["id"],pt=["for"],ut={key:2,class:"form-check form-switch col-5"},ft=["id"],ht=["for"],_t={key:3,class:"form-check form-switch col-5"},gt=["id"],bt=["for"],kt={key:4,class:"form-check form-switch col-5"},yt=["id"],Vt=["for"],xt={key:5,class:"form-check form-switch col-5"},Et=["id"],Nt=["for"],St={key:0,class:"menu-item p-3"},wt={class:"input-group-sm"},Bt=["for"],Ct={class:"input-group input-group-solid flex-row gap-4"},Dt={class:"form-check form-check-custom"},$t=["name","id"],zt=["for"],Mt={class:"form-check form-check-custom"},Ut=["name","id"],Ot=["for"],Tt={class:"form-check form-check-custom"},vt=["name","id"],qt=["for"],Rt={key:0,class:"separator opacity-75"},It={key:1,class:"modal-body"},Lt=["for"],Ft={class:"menu-item px-3"},jt=["id"],Gt=e.createElementVNode("option",{value:"0"},"0",-1),At=["value"],Jt=["for"],Ht={class:"menu-item px-3"},Pt=["id"],Zt=e.createElementVNode("option",{value:"0"},"0",-1),Wt=["value"],Xt=e.createElementVNode("h5",{class:"pb-2"},"최소 날짜",-1),Kt={class:"menu-item px-3 d-flex row gap-2"},Qt={class:"form-check col-3"},Yt=["id"],eo=["for"],to={class:"form-check col-3"},oo=["id"],ao=["for"],no={class:"form-check col-3"},lo=["id"],so=["for"],io=["aria-describedby","id"],ro=["id"],co=e.createElementVNode("h5",{class:"pb-2 mt-5"},"최대 날짜",-1),mo={class:"menu-item px-3 d-flex row gap-2"},po={class:"form-check col-3"},uo=["id"],fo=["for"],ho={class:"form-check col-3"},_o=["id"],go=["for"],bo={class:"form-check col-3"},ko=["id"],yo=["for"],Vo=["aria-describedby","id"],xo=["id"],Eo=["id"],No=[e.createStaticVNode('<div class="form-group w-100"><div data-repeater-list="list" class="d-flex flex-column gap-4"><div class="form-group row"><div class="col"><label class="form-label mb-0">보여질 이름</label></div><div class="col"><label class="form-label mb-0">저장될 값</label></div></div><div data-repeater-item><div class="form-group row"><div class="col"><input type="text" name="text" class="form-control mb-2 mb-md-0" placeholder="보여질 이름을 입력해주세요."></div><div class="col"><input type="text" name="value" class="form-control mb-2 mb-md-0" placeholder="저장될 값을 입력해주세요."></div><div class="w-55px"><a href="javascript:;" data-repeater-delete class="btn btn-icon btn-light-danger"><i class="ki-duotone ki-trash fs-5"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span></i></a></div></div></div></div></div><div class="form-group mt-5"><a href="javascript:;" data-repeater-create class="btn btn-light-primary w-100"> 추가 </a></div>',2)],So=e.createElementVNode("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," 취소 ",-1),wo={__name:"Config",setup(r,{expose:d}){const u=e.ref(null),t=U(),o=e.reactive({}),p=e.ref(!0),a=e.reactive({id:U(),min:{type:"year",value:0},max:{type:"year",value:0},show:{main:!0,min:!0,max:!0}});let h,b,f;const l=e.computed(()=>Object.keys(o??{}).reduce((i,n)=>({...i,[n]:U()}),{})),N=e.computed(()=>o.type==="select"||o.type==="checkbox"||o.type==="radio");e.watch(()=>a.min.type+a.min.value,()=>{a.show.min=a.min.type==="day",Object.assign(o.min,a.min)}),e.watch(()=>a.max.type+a.max.value,()=>{a.show.max=a.max.type==="day",Object.assign(o.max,a.max)}),e.watch(()=>o.date,i=>{!i&&!o.time&&(o.time=!0)}),e.watch(()=>o.time,i=>{!i&&!o.date&&(o.date=!0)});const y=e.ref({...o,onSetting:!1});e.watch(()=>o,i=>{y.value={...i,onSetting:!1}},{deep:!0});function E(){o.options=f.repeaterVal().list}function _(i){i.querySelectorAll("input").forEach(s=>s.addEventListener("change",E))}function V(i){i.querySelectorAll("input").forEach(s=>s.removeEventListener("change",E))}const k={attributes:!1,childList:!0,subtree:!0},m=new MutationObserver((i,n)=>{for(const s of i)s.type==="childList"&&E()});function x(i,n){h||(h=new bootstrap.Modal(u.value)),b=n,Object.keys(o).forEach(C=>delete o[C]),Object.assign(o,i),p.value=!0,(i.type==="select"||i.type==="checkbox"||i.type==="radio")&&(f||(f=$(`#${t}`).repeater({initEmpty:!0,show:function(){$(this).slideDown()},hide:function(C){$(this).slideUp(C)}})),m.disconnect(),V(f[0]),f.setList(i.options),m.observe(f[0],k),_(f[0]));const s=i.type==="datetime";a.show.main=s,s&&(a.max=i.max,a.min=i.min,a.show.min=i.min.type==="day",a.show.max=a.show.min),h.show()}e.onMounted(()=>{const i={integerDigits:0,allowMinus:!1,max:Number.MAX_SAFE_INTEGER,min:0};Inputmask("integer",i).mask(`#${a.id}_1`),Inputmask("integer",i).mask(`#${a.id}_2`)});function c(){h.hide(),b=null}function g(){const i={...o,validators:D(o)};(i.type==="select"||i.type==="checkbox"||i.type==="radio")&&(i.options=f.repeaterVal().list??[]),b(i),h.hide()}function w(){Swal.fire({html:"정말 식별자를 변경하시겠습니까?<br>기존 데이터가 손실될 수 있습니다.",icon:"warning",buttonsStyling:!1,showDenyButton:!0,showCancelButton:!0,confirmButtonText:"랜덤 생성",denyButtonText:"수동 입력",cancelButtonText:"취소",customClass:{confirmButton:"btn btn-info",denyButton:"btn btn-warning",cancelButton:"btn btn-active-light"}}).then(({isConfirmed:i,isDenied:n})=>{i?o.name=q():n&&(p.value=!1)})}return e.onUnmounted(()=>observer.disconnect()),d({showModal:x,hideModal:c}),(i,n)=>(e.openBlock(),e.createElementBlock("div",{class:"modal fade",tabindex:"-1",ref_key:"modal",ref:u},[e.createElementVNode("div",Be,[e.createElementVNode("div",Ce,[De,e.createElementVNode("div",$e,[ze,o.type==="text"?(e.openBlock(),e.createBlock(j,{key:0,config:y.value},null,8,["config"])):e.createCommentVNode("",!0),o.type==="checkbox"||o.type==="radio"?(e.openBlock(),e.createBlock(R,{key:1,config:y.value},null,8,["config"])):e.createCommentVNode("",!0),o.type==="select"?(e.openBlock(),e.createBlock(G,{key:2,config:y.value},null,8,["config"])):e.createCommentVNode("",!0),o.type==="datetime"?(e.openBlock(),e.createBlock(A,{key:3,config:y.value},null,8,["config"])):e.createCommentVNode("",!0)]),Me,e.createElementVNode("div",Ue,[l.value.name?(e.openBlock(),e.createElementBlock("div",Oe,[e.createElementVNode("div",Te,[e.createElementVNode("span",{class:"input-group-text",id:l.value.name},"데이터 식별자",8,ve),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","aria-label":"Name input","aria-describedby":l.value.name,"onUpdate:modelValue":n[0]||(n[0]=s=>o.name=s),disabled:p.value},null,8,qe),[[e.vModelText,o.name]]),e.createElementVNode("span",{class:"input-group-text cursor-pointer",onClick:w},Re)])])):e.createCommentVNode("",!0),l.value.label?(e.openBlock(),e.createElementBlock("div",Ie,[e.createElementVNode("div",Le,[e.createElementVNode("span",{class:"input-group-text",id:l.value.label},"레이블",8,Fe),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","aria-label":"Label input","aria-describedby":l.value.label,"onUpdate:modelValue":n[1]||(n[1]=s=>o.label=s)},null,8,je),[[e.vModelText,o.label]])])])):e.createCommentVNode("",!0),l.value.placeholder?(e.openBlock(),e.createElementBlock("div",Ge,[e.createElementVNode("div",Ae,[e.createElementVNode("span",{class:"input-group-text",id:l.value.placeholder},"플레이스홀더",8,Je),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","aria-label":"Placeholder input","aria-describedby":l.value.placeholder,"onUpdate:modelValue":n[2]||(n[2]=s=>o.placeholder=s)},null,8,He),[[e.vModelText,o.placeholder]])])])):e.createCommentVNode("",!0),l.value.prefix?(e.openBlock(),e.createElementBlock("div",Pe,[e.createElementVNode("div",Ze,[e.createElementVNode("span",{class:"input-group-text",id:l.value.prefix},"접두사",8,We),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","aria-label":"Prefix input","aria-describedby":l.value.prefix,"onUpdate:modelValue":n[3]||(n[3]=s=>o.prefix=s)},null,8,Xe),[[e.vModelText,o.prefix]])])])):e.createCommentVNode("",!0),l.value.suffix?(e.openBlock(),e.createElementBlock("div",Ke,[e.createElementVNode("div",Qe,[e.createElementVNode("span",{class:"input-group-text",id:l.value.suffix},"접미사",8,Ye),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","aria-label":"Suffix input","aria-describedby":l.value.suffix,"onUpdate:modelValue":n[4]||(n[4]=s=>o.suffix=s)},null,8,et),[[e.vModelText,o.suffix]])])])):e.createCommentVNode("",!0)]),tt,e.createElementVNode("div",ot,[e.createElementVNode("div",at,[e.createElementVNode("div",nt,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.required,"onUpdate:modelValue":n[5]||(n[5]=s=>o.required=s)},null,8,lt),[[e.vModelCheckbox,o.required]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.required}," 필수 여부 ",8,st)]),l.value.solidStyle?(e.openBlock(),e.createElementBlock("div",it,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.solidStyle,"onUpdate:modelValue":n[6]||(n[6]=s=>o.solidStyle=s)},null,8,rt),[[e.vModelCheckbox,o.solidStyle]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.solidStyle}," 단색 스타일 사용 ",8,ct)])):e.createCommentVNode("",!0),l.value.switchStyle?(e.openBlock(),e.createElementBlock("div",dt,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.switchStyle,"onUpdate:modelValue":n[7]||(n[7]=s=>o.switchStyle=s)},null,8,mt),[[e.vModelCheckbox,o.switchStyle]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.switchStyle}," 스위치 스타일 사용 ",8,pt)])):e.createCommentVNode("",!0),l.value.searchable?(e.openBlock(),e.createElementBlock("div",ut,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.searchable,"onUpdate:modelValue":n[8]||(n[8]=s=>o.searchable=s)},null,8,ft),[[e.vModelCheckbox,o.searchable]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.searchable}," 검색 가능 여부 ",8,ht)])):e.createCommentVNode("",!0),l.value.date?(e.openBlock(),e.createElementBlock("div",_t,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.date,"onUpdate:modelValue":n[9]||(n[9]=s=>o.date=s)},null,8,gt),[[e.vModelCheckbox,o.date]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.date}," 날짜 포함 여부 ",8,bt)])):e.createCommentVNode("",!0),l.value.time?(e.openBlock(),e.createElementBlock("div",kt,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.time,"onUpdate:modelValue":n[10]||(n[10]=s=>o.time=s)},null,8,yt),[[e.vModelCheckbox,o.time]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.time}," 시간 포함 여부 ",8,Vt)])):e.createCommentVNode("",!0),l.value.draggable?(e.openBlock(),e.createElementBlock("div",xt,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"checkbox",id:l.value.draggable,"onUpdate:modelValue":n[11]||(n[11]=s=>o.draggable=s)},null,8,Et),[[e.vModelCheckbox,o.draggable]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.draggable}," 드래그 가능 여부 ",8,Nt)])):e.createCommentVNode("",!0)]),l.value.inputSize?(e.openBlock(),e.createElementBlock("div",St,[e.createElementVNode("div",wt,[e.createElementVNode("label",{class:"mb-1 ms-1",for:l.value.inputSize},"입력창 크기",8,Bt),e.createElementVNode("div",Ct,[e.createElementVNode("div",Dt,[e.withDirectives(e.createElementVNode("input",{type:"radio",class:"form-check-input",name:l.value.inputSize,id:l.value.inputSize,value:"small","onUpdate:modelValue":n[12]||(n[12]=s=>o.inputSize=s)},null,8,$t),[[e.vModelRadio,o.inputSize]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.inputSize}," 작게 ",8,zt)]),e.createElementVNode("div",Mt,[e.withDirectives(e.createElementVNode("input",{type:"radio",class:"form-check-input",name:l.value.inputSize,id:l.value.inputSize+"_1",value:"default","onUpdate:modelValue":n[13]||(n[13]=s=>o.inputSize=s)},null,8,Ut),[[e.vModelRadio,o.inputSize]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.inputSize+"_1"}," 보통 ",8,Ot)]),e.createElementVNode("div",Tt,[e.withDirectives(e.createElementVNode("input",{type:"radio",class:"form-check-input",name:l.value.inputSize,id:l.value.inputSize+"_2",value:"large","onUpdate:modelValue":n[14]||(n[14]=s=>o.inputSize=s)},null,8,vt),[[e.vModelRadio,o.inputSize]]),e.createElementVNode("label",{class:"form-check-label",for:l.value.inputSize+"_2"}," 크게 ",8,qt)])])])])):e.createCommentVNode("",!0)]),o.type==="checkbox"?(e.openBlock(),e.createElementBlock("div",Rt)):e.createCommentVNode("",!0),o.type==="checkbox"?(e.openBlock(),e.createElementBlock("div",It,[e.createElementVNode("label",{class:"form-label mb-1",for:l.value.min}," 최소 선택 갯수 (0일 경우 제한 없음) ",8,Lt),e.createElementVNode("div",Ft,[e.withDirectives(e.createElementVNode("select",{class:"form-select",id:l.value.min,"onUpdate:modelValue":n[15]||(n[15]=s=>o.min=s)},[Gt,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.options,(s,C)=>(e.openBlock(),e.createElementBlock("option",{value:C+1},e.toDisplayString(C+1),9,At))),256))],8,jt),[[e.vModelSelect,o.min]])]),e.createElementVNode("label",{class:"form-label mb-1 mt-3",for:l.value.max}," 최대 선택 갯수 (0일 경우 제한 없음) ",8,Jt),e.createElementVNode("div",Ht,[e.withDirectives(e.createElementVNode("select",{class:"form-select",id:l.value.max,"onUpdate:modelValue":n[16]||(n[16]=s=>o.max=s)},[Zt,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.options,(s,C)=>(e.openBlock(),e.createElementBlock("option",{value:C+1},e.toDisplayString(C+1),9,Wt))),256))],8,Pt),[[e.vModelSelect,o.max]])])])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["separator opacity-75",{"d-none":o.type!=="datetime"}])},null,2),e.createElementVNode("div",{class:e.normalizeClass(["modal-body",{"d-none":!a.show.main}])},[Xt,e.createElementVNode("div",Kt,[e.createElementVNode("div",Qt,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"radio",id:a.id+"_min1","onUpdate:modelValue":n[17]||(n[17]=s=>a.min.type=s),value:"year"},null,8,Yt),[[e.vModelRadio,a.min.type]]),e.createElementVNode("label",{class:"form-check-label",for:a.id+"_min1"}," 올해 시작일 ",8,eo)]),e.createElementVNode("div",to,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"radio",id:a.id+"_min2","onUpdate:modelValue":n[18]||(n[18]=s=>a.min.type=s),value:"month"},null,8,oo),[[e.vModelRadio,a.min.type]]),e.createElementVNode("label",{class:"form-check-label",for:a.id+"_min2"}," 이번 달 시작일 ",8,ao)]),e.createElementVNode("div",no,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"radio",id:a.id+"_min3","onUpdate:modelValue":n[19]||(n[19]=s=>a.min.type=s),value:"day"},null,8,lo),[[e.vModelRadio,a.min.type]]),e.createElementVNode("label",{class:"form-check-label",for:a.id+"_min3"}," 직접 입력(일수) ",8,so)]),e.createElementVNode("div",{class:e.normalizeClass(["input-group col-5 px-0 pt-1",{"d-none":!a.show.min}])},[e.withDirectives(e.createElementVNode("input",{class:"form-control",placeholder:"기준 (7: 일주일 전, 365: 1년 전)","aria-label":"Min date days","aria-describedby":a.id+"_min",id:a.id+"_1",inputmode:"text","onUpdate:modelValue":n[20]||(n[20]=s=>a.min.value=s)},null,8,io),[[e.vModelText,a.min.value]]),e.createElementVNode("span",{class:"input-group-text",id:a.id+"_min"},"일",8,ro)],2)]),co,e.createElementVNode("div",mo,[e.createElementVNode("div",po,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"radio",id:a.id+"_max1","onUpdate:modelValue":n[21]||(n[21]=s=>a.max.type=s),value:"year"},null,8,uo),[[e.vModelRadio,a.max.type]]),e.createElementVNode("label",{class:"form-check-label",for:a.id+"_max1"}," 올해 종료일 ",8,fo)]),e.createElementVNode("div",ho,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"radio",id:a.id+"_max2","onUpdate:modelValue":n[22]||(n[22]=s=>a.max.type=s),value:"month"},null,8,_o),[[e.vModelRadio,a.max.type]]),e.createElementVNode("label",{class:"form-check-label",for:a.id+"_max2"}," 이번 달 종료일 ",8,go)]),e.createElementVNode("div",bo,[e.withDirectives(e.createElementVNode("input",{class:"form-check-input",type:"radio",id:a.id+"_max3","onUpdate:modelValue":n[23]||(n[23]=s=>a.max.type=s),value:"day"},null,8,ko),[[e.vModelRadio,a.max.type]]),e.createElementVNode("label",{class:"form-check-label",for:a.id+"_max3"}," 직접 입력(일수) ",8,yo)]),e.createElementVNode("div",{class:e.normalizeClass(["input-group col-5 px-0 pt-1",{"d-none":!a.show.max}])},[e.withDirectives(e.createElementVNode("input",{class:"form-control",placeholder:"기준 (7: 일주일 후, 365: 1년 후)","aria-label":"Max date days","aria-describedby":a.id+"_max",id:a.id+"_2",inputmode:"text","onUpdate:modelValue":n[24]||(n[24]=s=>a.max.value=s)},null,8,Vo),[[e.vModelText,a.max.value]]),e.createElementVNode("span",{class:"input-group-text",id:a.id+"_max"},"일",8,xo)],2)])],2),e.createElementVNode("div",{class:e.normalizeClass(["separator opacity-75",{"d-none":!N.value}])},null,2),e.createElementVNode("div",{class:e.normalizeClass(["menu-item px-10 py-5 d-flex flex-column gap-3",{"d-none":!N.value}])},[e.createElementVNode("div",{id:e.unref(t)},No,8,Eo)],2),e.createElementVNode("div",{class:"modal-footer"},[So,e.createElementVNode("button",{type:"button",class:"btn btn-primary",onClick:g}," 적용 ")])])])],512))}},Bo={__name:"Good",props:["configs"],setup(r,{expose:d}){const u=e.ref(null),t=e.ref(null),o=e.ref([]),p=r,a=e.reactive(p.configs.map((m,x)=>({...m,index:x})));let h,b;function f(m){t.value.showModal(m,x=>{Object.assign(a.find(c=>c.name===m.name),x),h&&h()})}e.onMounted(()=>{new Draggable.Sortable(u.value,{draggable:".draggable",handle:".draggable .draggable-handle",mirror:{appendTo:"body",constrainDimensions:!0}})}),e.onUpdated(()=>b&&b());function l(){return o.value.map(m=>m.getConfig())}function N(){return o.value}function y(){return o.value.reduce((m,x)=>({...m,[x.getName()]:{validators:x.getValidators()}}),{})}function E(m){h=m}function _(m){b=m}function V(m){a.push({...m,index:a.length-1})}function k(m){const x=a.find(c=>c.name===m).index;a.splice(x,1),a.forEach((c,g)=>c.index=g)}return d({getConfigs:l,getComponents:N,getValidators:y,onAfterApply:E,onUpdate:_,addConfig:V,removeConfig:k}),(m,x)=>(e.openBlock(),e.createElementBlock("div",{class:"d-flex flex-column gap-4 draggable-zone",ref_key:"dragZoneRef",ref:u},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a,c=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({draggable:c.draggable})},[c.type==="text"?(e.openBlock(),e.createBlock(j,{key:0,ref_for:!0,ref_key:"componentRef",ref:o,config:c,"on-setting":f},null,8,["config"])):e.createCommentVNode("",!0),c.type==="checkbox"?(e.openBlock(),e.createBlock(R,{key:1,ref_for:!0,ref_key:"componentRef",ref:o,config:c,"on-setting":f},null,8,["config"])):e.createCommentVNode("",!0),c.type==="radio"?(e.openBlock(),e.createBlock(R,{key:2,ref_for:!0,ref_key:"componentRef",ref:o,config:c,"on-setting":f,type:"radio"},null,8,["config"])):e.createCommentVNode("",!0),c.type==="select"?(e.openBlock(),e.createBlock(G,{key:3,ref_for:!0,ref_key:"componentRef",ref:o,config:c,"on-setting":f},null,8,["config"])):e.createCommentVNode("",!0),c.type==="datetime"?(e.openBlock(),e.createBlock(A,{key:4,ref_for:!0,ref_key:"componentRef",ref:o,config:c,"on-setting":f},null,8,["config"])):e.createCommentVNode("",!0)],2))),256)),e.createVNode(wo,{ref_key:"appConfigRef",ref:t},null,512)],512))}};S.Good=Bo,S.defaultConfig=B,S.defaultOptions=v,S.formValidator=P,S.generateId=U,S.generateUUID=q,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
